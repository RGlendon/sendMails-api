{"version":3,"sources":["components/Login/Login.module.css","components/Header/Header.module.css","components/common/ValidatorForms/Validators.module.css","api/apiFetch.js","redux/contactsReducer.js","redux/authReducer.js","redux/storeRedux.js","components/common/ValidatorForms/validators.js","components/common/ValidatorForms/ValidatorForms.jsx","components/Login/Login.jsx","components/Login/LoginContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/ContactList/Card/Card.jsx","components/ContactList/ContactList.jsx","components/AddContact/AddContact.jsx","components/Pages/Contacts.jsx","hoc/withAuthRedirect.js","App.js","index.js","components/AddContact/AddContact.module.css","components/ContactList/Card/Card.module.css","components/Pages/Contacts.module.css","components/ContactList/ContactList.module.css"],"names":["module","exports","apiFetch","baseUrl","this","url","method","type","undefined","body","JSON","stringify","fetch","headers","credentials","then","resp","ok","json","err","Promise","reject","emails","makeFetch","initialState","contacts","contactsReducer","state","action","contact","filter","_id","contactId","id","login","process","NAME","email","EMAIL","password","PASSWORD","isLogin","authReducer","data","reducers","combineReducers","contactsPage","auth","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","validator","require","required","value","validatorFromFunction","isURL","isMobilePhone","isEmail","renderInput","fieldData","input","meta","restProps","hasError","touched","error","className","s","formControl","spanError","LoginForm","props","onSubmit","handleSubmit","styles","inputPlace","Field","component","name","placeholder","validate","errorPosition","commonError","button","disabled","invalid","reduxForm","Login","to","general","content","information","title","formData","sendError","mapDispatchToProps","dispatch","stopSubmit","_error","connect","Header","header","container","avatar","onClick","logout","style","backgroundImage","HeaderAPI","React","Component","Card","delete","deleteContact","ContactList","prevProps","prevState","map","key","i","addContact","useState","localEmail","setLocalEmail","e","preventDefault","console","log","onChange","event","currentTarget","length","sendMailsTC","sendMails","catch","RedirectComponent","HeaderContainer","has","hasContacts","App","path","render","LoginContainer","config","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.b07bf829.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"general\":\"Login_general__3_oWh\",\"content\":\"Login_content__3DDu-\",\"information\":\"Login_information__2VwhR\",\"title\":\"Login_title__3D9Rs\",\"form\":\"Login_form__2fXQJ\",\"inputPlace\":\"Login_inputPlace__5peEn\",\"button\":\"Login_button__1HveB\",\"errorPosition\":\"Login_errorPosition__3Uefl\",\"commonError\":\"Login_commonError__3b3Un\",\"errors\":\"Login_errors__571SQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__EyyxT\",\"title\":\"Header_title__1FGos\",\"container\":\"Header_container__3_Lx-\",\"avatar\":\"Header_avatar__3R4i_\",\"auth\":\"Header_auth__ND7PU\",\"button\":\"Header_button__34JiD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"Validators_formControl__2zCnu\",\"error\":\"Validators_error__2V4_C\",\"input\":\"Validators_input__1bZ3G\",\"spanError\":\"Validators_spanError__1S4QH\",\"errors\":\"Validators_errors__32G8U\"};","class ApiFetch {\r\n  constructor(baseUrl) {\r\n    this.baseUrl = baseUrl;\r\n  }\r\n\r\n  makeFetch(url, method = 'GET', type = undefined, body = undefined) {\r\n    if (body) {\r\n      body = JSON.stringify(body);\r\n    }\r\n    return fetch(`${this.baseUrl}${url}`, {\r\n      headers: {\r\n        'content-type': type,\r\n      },\r\n      credentials: 'include',\r\n      method,\r\n      body,\r\n    })\r\n      .then((resp) => {\r\n        if (!resp.ok) {\r\n          return resp.json().then(err => Promise.reject(err));\r\n        }\r\n        return resp.json();\r\n      });\r\n  }\r\n\r\n\r\n  sendMails(emails) {\r\n    return this.makeFetch('/send', 'POST', 'application/json', {emails});\r\n  }\r\n\r\n}\r\n\r\n\r\nconst apiFetch = new ApiFetch('');\r\n\r\nexport default apiFetch;","import apiFetch from \"../api/apiFetch\";\r\n\r\nconst ADD_CONTACT = 'ADD_CONTACT';\r\nconst DELETE_CONTACT = 'DELETE_CONTACT';\r\nconst REWRITE_STATE = 'REWRITE_STATE';\r\nconst RESET_STATE = 'RESET_STATE';\r\n\r\n\r\nconst initialState = {\r\n    contacts: [\r\n        // {\r\n        //     name: \"Ольга Игоревна\",\r\n        //     phoneNumber: \"+79151233232\",\r\n        //     email: \"olga-igorevna@gmail.com\",\r\n        //     avatar: \"https://www.biography.com/.image/t_share/MTE4MDAzNDEwODQwOTQ2MTkw/ada-lovelace-20825279-1-402.jpg\",\r\n        //     _id: \"dbfe53c3c4d568240378b0c6\"\r\n        // },\r\n        // {\r\n        //     name: \"Даша Печкина\",\r\n        //     phoneNumber: \"+79191236534\",\r\n        //     email: \"dasha@yandex.com\",\r\n        //     avatar: \"https://www.imaginar.co.uk/wp-content/uploads/2016/12/girl-face-front.jpg\",\r\n        //     _id: \"d285e3dceed844f902650f40\"\r\n        // },\r\n        // {\r\n        //     name: \"Маша Сокол\",\r\n        //     phoneNumber: \"+79168372684\",\r\n        //     email: \"mariyafalcon@gmail.com\",\r\n        //     avatar: \"https://media.gettyimages.com/photos/hayden-panettiere-at-the-i-love-you-beth-cooper-press-conference-at-picture-id112568938\",\r\n        //     _id: \"7d8c010a1c97ca2654997a95\"\r\n        // },\r\n        // {\r\n        //     name: \"Пётр Фо\",\r\n        //     phoneNumber: \"89157263232\",\r\n        //     email: \"whatsup@gmail.com\",\r\n        //     avatar: \"https://avatars.mds.yandex.net/get-pdb/1074676/5aff8976-0c0c-4cde-9902-bfeec72d85de/s1200?webp=false\",\r\n        //     _id: \"f20c9c560aa652a72cba323f\"\r\n        // },\r\n        // {\r\n        //     name: \"Виктор Федоров\",\r\n        //     phoneNumber: \"+79151135332\",\r\n        //     email: \"goriding@gmail.com\",\r\n        //     avatar: \"https://yt3.ggpht.com/a/AATXAJxWl2OpFByJlh-WG-7rmoj3v8Rugm_kOfRgYQ=s900-c-k-c0xffffffff-no-rj-mo\",\r\n        //     _id: \"8340d0ec33270a25f2413b69\"\r\n        // },\r\n        // {\r\n        //     name: \"Владимир\",\r\n        //     phoneNumber: \"+79151234385\",\r\n        //     email: \"vlus@gmail.com\",\r\n        //     avatar: \"http://f4.mylove.ru/CVXxkLkCtv.png\",\r\n        //     _id: \"3c8c16ee9b1f89a2f8b5e4b2\"\r\n        // },\r\n        // {\r\n        //     name: \"Просто Петя\",\r\n        //     phoneNumber: \"+79151239282\",\r\n        //     email: \"petya@gmail.com\",\r\n        //     avatar: \"https://cdn1.flamp.ru/afc38f1ae0ca55d81f11fc44012629a5.jpg\",\r\n        //     _id: \"f20c9c560aa652a72cba323a\"\r\n        // },\r\n        // {\r\n        //     name: \"Гриша Лось\",\r\n        //     phoneNumber: \"89124853232\",\r\n        //     email: \"grishka@gmail.com\",\r\n        //     avatar: \"https://i09.fotocdn.net/s119/2ba0a60d5886b85f/user_l/2716065481.jpg\",\r\n        //     _id: \"8340d0ec33270a25f2413b29\"\r\n        // },\r\n        // {\r\n        //     name: \"Витя Мотор\",\r\n        //     phoneNumber: \"+79155624232\",\r\n        //     email: \"engine@gmail.com\",\r\n        //     avatar: \"https://i01.fotocdn.net/s120/62b4a8e575bb54d4/user_l/2751280406.jpg\",\r\n        //     _id: \"3c8c16ee9b1f89a2f8b5e4b1\"\r\n        // }\r\n    ],\r\n};\r\n\r\nfunction contactsReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case ADD_CONTACT:\r\n            return {\r\n                ...state,\r\n                contacts: [action.contact, ...state.contacts]\r\n            };\r\n        case DELETE_CONTACT:\r\n            return {\r\n                ...state,\r\n                contacts: state.contacts.filter(({_id}) => _id !== action.contactId)\r\n            };\r\n        case REWRITE_STATE:\r\n            initialState.contacts = state.contacts;\r\n            return state;\r\n        case RESET_STATE:\r\n            return {\r\n                ...state,\r\n                contacts: []\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport default contactsReducer;\r\n\r\n\r\nexport const addContact = (contact) => ({type: ADD_CONTACT, contact});\r\nexport const deleteContact = (contactId) => ({type: DELETE_CONTACT, contactId});\r\nexport const rewritingInitialState = () => ({type: REWRITE_STATE});\r\nexport const resetState = () => ({type: RESET_STATE});\r\n\r\n\r\n//thunkCreators\r\nexport const sendMailsTC = (emails) => (dispatch) => {\r\n    return apiFetch.sendMails(emails)\r\n        .then(resp => {\r\n            console.log(resp);\r\n            dispatch(resetState());\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n            return Promise.reject(err)\r\n        })\r\n};","import {stopSubmit} from \"redux-form\";\r\n\r\nconst LOGIN = 'LOGIN';\r\nconst LOGOUT = 'LOGOUT';\r\n\r\nconst initialState = {\r\n    id: null,\r\n    // login: 'Oleg',\r\n    // email: 'youarethebest@yandex.ru',\r\n    // password: '12345',\r\n    login: process.env.NAME,\r\n    email: process.env.EMAIL,\r\n    password: process.env.PASSWORD,\r\n    // isLogin: true\r\n    isLogin: false\r\n};\r\n\r\nfunction authReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case LOGIN:\r\n            if (action.data.email === state.email && action.data.password === state.password) {\r\n                return {\r\n                    ...state,\r\n                    isLogin: true\r\n                }\r\n            }\r\n            return {\r\n                ...state,\r\n                isLogin: false,\r\n            };\r\n        case\r\n        LOGOUT:\r\n            return {\r\n                ...state,\r\n                isLogin: false,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default authReducer;\r\n\r\n\r\nexport const login = (data) => ({type: LOGIN, data});\r\nexport const logout = () => ({type: LOGOUT});\r\n\r\n\r\nexport const sendError = () => (dispatch) => {\r\n    let message = 'неправильный логин или пароль';\r\n    dispatch(stopSubmit('loginForm', {_error: message}));\r\n};\r\n\r\n","import { applyMiddleware, combineReducers, compose, createStore } from \"redux\";\r\n\r\nimport contactsReducer from \"./contactsReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form';\r\n\r\n\r\nlet reducers = combineReducers({\r\n    contactsPage: contactsReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n});\r\n\r\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nwindow.store = store;\r\nexport default store;\r\n","import { validatorFromFunction } from 'validate-redux-form';\r\nconst validator = require('validator');\r\n\r\nexport const required = value => value ? undefined : 'это поле обязательно для заполнения';\r\n\r\n\r\nexport const isCorrectUrl = validatorFromFunction(value => !!(value && validator.isURL(value)));\r\n\r\nexport const isCorrectPhoneNumber = validatorFromFunction(value => !!(value && validator.isMobilePhone(value, 'ru-RU')));\r\n\r\nexport const isCorrectEmail = validatorFromFunction(value => !!(value && validator.isEmail(value)));\r\n","import React from \"react\";\r\nimport s from './Validators.module.css';\r\n\r\n\r\nexport const renderInput = (fieldData) => {\r\n    // console.log(fieldData);\r\n    // console.log(fieldData.meta);\r\n    // {input, label, type, meta: {touched, error, warning}}\r\n    const {input, meta, ...restProps} = fieldData;\r\n    const hasError = meta.touched && meta.error;\r\n\r\n    return (\r\n        <div className={s.formControl + ' ' + (hasError ? s.error : '')}>\r\n            <input {...input}{...restProps} className={s.input}/>\r\n            <div>\r\n                {hasError && <span className={s.spanError}>{meta.error}</span> }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport const renderTextarea = (fieldData) => {\r\n    const {input, meta, ...restProps} = fieldData;\r\n    const hasError = meta.touched && meta.error;\r\n\r\n    return (\r\n        <div className={s.formControl + ' ' + (hasError ? s.error : '')}>\r\n            <textarea {...input}{...restProps}/>\r\n            <div>\r\n                {hasError && <span>{meta.error}</span> }\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {required} from \"../common/ValidatorForms/validators\";\r\nimport {renderInput} from \"../common/ValidatorForms/ValidatorForms\";\r\nimport styles from \"./Login.module.css\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\n\r\nlet LoginForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className={styles.form}>\r\n            <div className={styles.inputPlace}>\r\n                <Field component={renderInput} type=\"text\" name=\"email\" placeholder={'Ваша почта'}\r\n                       validate={[required]}/>\r\n            </div>\r\n            <div className={styles.inputPlace}>\r\n                <Field component={renderInput} type=\"password\" name=\"password\" placeholder={'введите пароль'}\r\n                       validate={[required]}/>\r\n            </div>\r\n            <div className={styles.errorPosition}>\r\n                <div className={styles.commonError}>\r\n                    {props.error}\r\n                </div>\r\n            </div>\r\n            <button className={styles.button} disabled={props.invalid}>Вход</button>\r\n        </form>\r\n    );\r\n};\r\n\r\nLoginForm = reduxForm({form: 'loginForm'})(LoginForm);\r\n\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData);\r\n        props.sendError();\r\n    };\r\n\r\n    if (props.isLogin) return <Redirect to=\"/contacts\"/>;\r\n\r\n    return (\r\n        <div className={styles.general}>\r\n            <div className={styles.content}>\r\n                <div className={styles.information} title={\"email: youarethebest@yandex.ru\\npassword: 12345\"}/>\r\n                <h1 className={styles.title}>Авторизация</h1>\r\n                <LoginForm onSubmit={onSubmit}/>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;\r\n","import Login from \"./Login\";\r\nimport {connect} from \"react-redux\";\r\nimport {login, sendError} from \"../../redux/authReducer\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isLogin: state.auth.isLogin,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    login,\r\n    //thunkCreators\r\n    sendError,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\r\n","import React from 'react';\r\nimport s from './Header.module.css';\r\n\r\n\r\nfunction Header(props) {\r\n    return (\r\n        <header className={s.header}>\r\n            <h1 className={s.title}>Список контактов</h1>\r\n            <div className={s.container}>\r\n                {props.isLogin\r\n                    ? <>\r\n                        <div className={s.avatar}/>\r\n                        <h2 className={s.auth}>{props.login}</h2>\r\n                        <div className={s.button} onClick={props.logout}/>\r\n                    </>\r\n                    : <>\r\n                        <div className={s.avatar} style={{backgroundImage: `url('https://i.livelib.ru/auface/471251/o/ab9f/Yurij_Belous.jpg')`}}/>\r\n                        <h2 className={s.auth}>имя</h2>\r\n                        <div className={s.button} onClick={props.logout}/>\r\n                    </>\r\n                }\r\n            </div>\r\n\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/authReducer\";\r\n\r\n\r\nclass HeaderAPI extends React.Component {\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        isLogin: state.auth.isLogin,\r\n        login: state.auth.login\r\n    };\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    logout\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderAPI);\r\n","import React from \"react\";\r\nimport styles from \"./Card.module.css\";\r\n\r\n\r\nconst Card = (props) => {\r\n    let { email, _id } = props.data;\r\n\r\n    return (\r\n        <div className={styles.general}>\r\n\r\n\r\n            <p className={styles.email}>{email}</p>\r\n\r\n            <p className={styles.delete} onClick={() => {\r\n                props.deleteContact(_id)\r\n            }}\r\n            >&#10005;</p>\r\n\r\n        </div>\r\n\r\n    );\r\n};\r\n\r\nexport default Card;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport styles from \"./ContactList.module.css\";\r\nimport Card from \"./Card/Card\";\r\nimport { deleteContact } from \"../../redux/contactsReducer\";\r\n\r\n\r\n\r\n\r\nclass ContactList extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n     }\r\n\r\n    componentDidMount() { }\r\n\r\n    componentDidUpdate(prevProps, prevState) { }\r\n\r\n    render() {\r\n        let contacts = this.props.contacts.map((data) => (\r\n            <Card data={data} key={data._id}\r\n                deleteContact={this.props.deleteContact}\r\n                 />\r\n        ));\r\n\r\n        return (\r\n            <div className={styles.general}>\r\n                <div className={styles.container}>\r\n                    {this.props.isLogin && contacts}\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        contacts: state.contactsPage.contacts,\r\n        isLogin: state.auth.isLogin\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    deleteContact,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ContactList);\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { addContact } from \"../../redux/contactsReducer\";\r\n\r\n\r\nimport styles from \"./AddContact.module.css\";\r\n\r\nlet i = 1;\r\n\r\nconst AddContact = (props) => {\r\n    let [localEmail, setLocalEmail] = useState('');\r\n\r\n    \r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        console.log(i)\r\n\r\n        props.addContact({ email: localEmail, _id: i });\r\n        ++i;\r\n        setLocalEmail('');\r\n    };\r\n\r\n    const updateEmail = (event) => {\r\n        setLocalEmail(event.currentTarget.value);\r\n    };\r\n\r\n\r\n\r\n    return (\r\n        <div className={styles.general}>\r\n            <form onSubmit={onSubmit} className={styles.form}>\r\n                <input type=\"email\"\r\n                    name=\"email\"\r\n                    placeholder={'Введите почту*'}\r\n                    className={styles.inputPlace}\r\n                    value={localEmail}\r\n                    onChange={updateEmail}\r\n                />\r\n                <button className={styles.button} disabled={localEmail.length === 0}>Добавить</button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\n\r\n\r\nconst mapDispatchToProps = {\r\n    addContact,\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(AddContact);\r\n\r\n\r\n","import React from \"react\";\r\nimport s from \"./Contacts.module.css\";\r\nimport { compose } from \"redux\";\r\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\r\nimport HeaderContainer from \"../Header/HeaderContainer\";\r\nimport ContactList from \"../ContactList/ContactList\";\r\nimport AddContact from \"../AddContact/AddContact\";\r\nimport { connect } from \"react-redux\";\r\nimport { sendMailsTC } from \"../../redux/contactsReducer\";\r\n\r\nconst Contacts = (props) => {\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        console.log(\"отправка\");\r\n\r\n        props.sendMailsTC(props.contacts);\r\n    };\r\n\r\n    const hasContacts = () => {\r\n        let has = true;\r\n        if (props.contacts.length) has = false;\r\n        return has;\r\n    }\r\n\r\n    return (\r\n        <div className={s.general}>\r\n            <HeaderContainer />\r\n            <AddContact />\r\n            <ContactList />\r\n            <button onClick={onSubmit} className={s.button} disabled={hasContacts()}>Отправить</button>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        contacts: state.contactsPage.contacts\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    sendMailsTC,\r\n};\r\n\r\nexport default compose(\r\n    withAuthRedirect,\r\n    connect(mapStateToProps, mapDispatchToProps)\r\n)(Contacts);\r\n\r\n// export default connect(mapStateToProps, mapDispatchToProps)(ContactList);\r\n","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isLogin) return <><Redirect to='/login' /><Component {...this.props}/></>;\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    let mapStateToProps = (state) => ({\r\n        isLogin: state.auth.isLogin,\r\n    });\r\n\r\n    return connect(mapStateToProps)(RedirectComponent);\r\n};\r\n","import React from 'react';\r\nimport './App.css';\r\nimport './assets/vendor/normalize.css';\r\nimport './assets/vendor/common.css';\r\nimport { Route } from \"react-router-dom\";\r\n\r\n\r\nimport LoginContainer from \"./components/Login/LoginContainer\";\r\n\r\nimport Contacts from \"./components/Pages/Contacts\";\r\n\r\n\r\nfunction App(props) {\r\n    // console.log(process.env.PUBLIC_URL);\r\n    console.log(process.env.NAME);\r\n    return (\r\n        <div>\r\n            <Route path='/login' render={() => <LoginContainer />} />\r\n            <Route path='/' render={() => <Contacts />} />\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default App;\r\n","\r\nimport store from \"./redux/storeRedux\";\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport {BrowserRouter} from \"react-router-dom\";\r\nimport {Provider} from \"react-redux\";\r\nrequire('dotenv').config();\r\n\r\n\r\n    ReactDOM.render(\r\n        <BrowserRouter>\r\n            <Provider store={store}>\r\n                <App store={store}/>\r\n            </Provider>\r\n        </BrowserRouter>,\r\n        document.getElementById('root'));\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"general\":\"AddContact_general__1H9t5\",\"form\":\"AddContact_form__3rjuS\",\"inputPlace\":\"AddContact_inputPlace__2wo7Q\",\"button\":\"AddContact_button__hElgX\",\"commonError\":\"AddContact_commonError__6mzT3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"general\":\"Card_general__3Roba\",\"email\":\"Card_email__1OqVp\",\"control\":\"Card_control__bs_Li\",\"controlEdit\":\"Card_controlEdit__2v3H3\",\"delete\":\"Card_delete__6hvMX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"general\":\"Contacts_general__3Z22S\",\"button\":\"Contacts_button__joWRr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"general\":\"ContactList_general__3Va-G\",\"container\":\"ContactList_container__2V7Tl\"};"],"sourceRoot":""}